<%= form_for([@member, @recess], url: member_recess_path(@member, @recess), html: { roll: "form", class: "form-horizontal", id: "form" }) do |f| %>

  <%= render "shared/errors", object: @recess %>

  <% if params[:action] == "show" %>
    <fieldset disabled>
  <% end %>

  <div class="form-group <%= 'has-error' if @recess.errors[:members_course_id].present? %>">
    <%= f.label :members_course_id, class: "col-md-1 control-label" %>
    <div class="col-md-3">
      <% members_courses = @member.members_courses.active.joins(:course) %>
      <% if params[:action] == "edit" %>
        <%= f.select :members_course_id, members_courses.map {|c| [c.course.name, c.id] }, {}, { class: "form-control", disabled: "disabled" } %>
      <% else %>
        <%= f.select :members_course_id, members_courses.map {|c| [c.course.name, c.id] }, {}, { class: "form-control" } %>
      <% end %>
    </div>
  </div>
  <div class="form-group <%= 'has-error' if @recess.errors[:month].present? %>">
    <%= f.label :month, class: "col-md-1 control-label" %>
    <div class="col-md-2">
      <% if params[:action] == "edit" %>
        <%= f.text_field :month, class: "form-control", data: { behaviour: "monthpicker" }, disabled: "disabled" %>
      <% else %>
        <%= f.text_field :month, class: "form-control", data: { behaviour: "monthpicker" } %>
      <% end %>
    </div>
  </div>
  <div class="form-group <%= 'has-error' if @recess.errors[:status].present? %>">
    <%= f.label :status, class: "col-md-1 control-label" %>
    <div class="col-md-2">
      <%= f.select :status, RecessesHelper::RECESS_STATUSES, {}, { class: "form-control" } %>
    </div>
  </div>
  <div class="form-group <%= 'has-error' if @recess.errors[:note].present? %>">
    <%= f.label :note, class: "col-md-1 control-label" %>
    <div class="col-md-5">
      <%= f.text_area :note, class: "form-control" %>
    </div>
  </div>

  <% if params[:action] == "show" %>
    </fieldset>
  <% end %>

<% end %>
